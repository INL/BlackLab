<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Getting Started | BlackLab</title>
    <meta name="generator" content="VuePress 1.9.8">
    
    <meta name="description" content="Documentation for the corpus search engine BlackLab">
    
    <link rel="preload" href="/BlackLab/assets/css/0.styles.5760bb18.css" as="style"><link rel="preload" href="/BlackLab/assets/js/app.ff7e0bdb.js" as="script"><link rel="preload" href="/BlackLab/assets/js/2.3a027c82.js" as="script"><link rel="preload" href="/BlackLab/assets/js/8.9dedd2e9.js" as="script"><link rel="prefetch" href="/BlackLab/assets/js/10.a97bc1f2.js"><link rel="prefetch" href="/BlackLab/assets/js/11.891fe32f.js"><link rel="prefetch" href="/BlackLab/assets/js/12.2db99efc.js"><link rel="prefetch" href="/BlackLab/assets/js/13.e93eed8a.js"><link rel="prefetch" href="/BlackLab/assets/js/14.9364ad4a.js"><link rel="prefetch" href="/BlackLab/assets/js/15.405632c8.js"><link rel="prefetch" href="/BlackLab/assets/js/16.f3063769.js"><link rel="prefetch" href="/BlackLab/assets/js/17.06d27b1c.js"><link rel="prefetch" href="/BlackLab/assets/js/18.b90032a5.js"><link rel="prefetch" href="/BlackLab/assets/js/19.1cd8af9b.js"><link rel="prefetch" href="/BlackLab/assets/js/20.42bb357a.js"><link rel="prefetch" href="/BlackLab/assets/js/21.6b25d228.js"><link rel="prefetch" href="/BlackLab/assets/js/22.577e00a3.js"><link rel="prefetch" href="/BlackLab/assets/js/23.18694c3e.js"><link rel="prefetch" href="/BlackLab/assets/js/24.3f96f03f.js"><link rel="prefetch" href="/BlackLab/assets/js/25.ebeb39f6.js"><link rel="prefetch" href="/BlackLab/assets/js/26.afa2791a.js"><link rel="prefetch" href="/BlackLab/assets/js/27.bbc1ac3e.js"><link rel="prefetch" href="/BlackLab/assets/js/28.1607f8a7.js"><link rel="prefetch" href="/BlackLab/assets/js/29.74d0eb7f.js"><link rel="prefetch" href="/BlackLab/assets/js/3.dd448380.js"><link rel="prefetch" href="/BlackLab/assets/js/30.d69bc359.js"><link rel="prefetch" href="/BlackLab/assets/js/31.8d716075.js"><link rel="prefetch" href="/BlackLab/assets/js/32.a0ff5456.js"><link rel="prefetch" href="/BlackLab/assets/js/33.c497f89b.js"><link rel="prefetch" href="/BlackLab/assets/js/34.43fcfa33.js"><link rel="prefetch" href="/BlackLab/assets/js/35.57d60f91.js"><link rel="prefetch" href="/BlackLab/assets/js/36.6b5464f5.js"><link rel="prefetch" href="/BlackLab/assets/js/37.aa245bfb.js"><link rel="prefetch" href="/BlackLab/assets/js/38.e2221bf1.js"><link rel="prefetch" href="/BlackLab/assets/js/39.f9614a8f.js"><link rel="prefetch" href="/BlackLab/assets/js/4.250fd8f2.js"><link rel="prefetch" href="/BlackLab/assets/js/40.3e881176.js"><link rel="prefetch" href="/BlackLab/assets/js/41.19e38ff0.js"><link rel="prefetch" href="/BlackLab/assets/js/42.0465a6b1.js"><link rel="prefetch" href="/BlackLab/assets/js/43.2c80d081.js"><link rel="prefetch" href="/BlackLab/assets/js/44.43625a55.js"><link rel="prefetch" href="/BlackLab/assets/js/45.b5cea120.js"><link rel="prefetch" href="/BlackLab/assets/js/46.1b676431.js"><link rel="prefetch" href="/BlackLab/assets/js/47.85c2d39e.js"><link rel="prefetch" href="/BlackLab/assets/js/48.08158648.js"><link rel="prefetch" href="/BlackLab/assets/js/49.a4c61ca8.js"><link rel="prefetch" href="/BlackLab/assets/js/5.7080f60e.js"><link rel="prefetch" href="/BlackLab/assets/js/50.c78858d5.js"><link rel="prefetch" href="/BlackLab/assets/js/51.463bae8c.js"><link rel="prefetch" href="/BlackLab/assets/js/52.458bbe5f.js"><link rel="prefetch" href="/BlackLab/assets/js/53.39e9deef.js"><link rel="prefetch" href="/BlackLab/assets/js/54.425b4f2a.js"><link rel="prefetch" href="/BlackLab/assets/js/55.50c2c79a.js"><link rel="prefetch" href="/BlackLab/assets/js/56.eec17177.js"><link rel="prefetch" href="/BlackLab/assets/js/57.306ac3df.js"><link rel="prefetch" href="/BlackLab/assets/js/58.10fb9202.js"><link rel="prefetch" href="/BlackLab/assets/js/59.a192a7eb.js"><link rel="prefetch" href="/BlackLab/assets/js/6.bb3d2c40.js"><link rel="prefetch" href="/BlackLab/assets/js/60.8ff3f063.js"><link rel="prefetch" href="/BlackLab/assets/js/61.91d2ba44.js"><link rel="prefetch" href="/BlackLab/assets/js/62.f8d7a455.js"><link rel="prefetch" href="/BlackLab/assets/js/63.ba9049be.js"><link rel="prefetch" href="/BlackLab/assets/js/64.a10a4e4f.js"><link rel="prefetch" href="/BlackLab/assets/js/65.ab9870d5.js"><link rel="prefetch" href="/BlackLab/assets/js/66.b1a55608.js"><link rel="prefetch" href="/BlackLab/assets/js/67.c8966fb0.js"><link rel="prefetch" href="/BlackLab/assets/js/68.a0110da1.js"><link rel="prefetch" href="/BlackLab/assets/js/69.190cdd43.js"><link rel="prefetch" href="/BlackLab/assets/js/7.fe78c9fd.js"><link rel="prefetch" href="/BlackLab/assets/js/70.af6f5588.js"><link rel="prefetch" href="/BlackLab/assets/js/71.accb48b7.js"><link rel="prefetch" href="/BlackLab/assets/js/72.7d196c93.js"><link rel="prefetch" href="/BlackLab/assets/js/73.28b0fde7.js"><link rel="prefetch" href="/BlackLab/assets/js/74.60eed0ed.js"><link rel="prefetch" href="/BlackLab/assets/js/9.e6659fc6.js">
    <link rel="stylesheet" href="/BlackLab/assets/css/0.styles.5760bb18.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/BlackLab/" class="home-link router-link-active"><!----> <span class="site-name">BlackLab</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/BlackLab/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/BlackLab/server/" class="nav-link">
  Webservice
</a></div><div class="nav-item"><a href="/BlackLab/frontend/" class="nav-link">
  Frontend
</a></div><div class="nav-item"><a href="/BlackLab/development/" class="nav-link">
  Developers
</a></div> <a href="https://github.com/INL/BlackLab" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/BlackLab/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/BlackLab/server/" class="nav-link">
  Webservice
</a></div><div class="nav-item"><a href="/BlackLab/frontend/" class="nav-link">
  Frontend
</a></div><div class="nav-item"><a href="/BlackLab/development/" class="nav-link">
  Developers
</a></div> <a href="https://github.com/INL/BlackLab" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/BlackLab/guide/" aria-current="page" class="sidebar-link">Introduction</a></li><li><a href="/BlackLab/guide/getting-started.html" aria-current="page" class="active sidebar-link">Getting Started</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/BlackLab/guide/getting-started.html#install-blacklab" class="sidebar-link">Install BlackLab</a></li><li class="sidebar-sub-header"><a href="/BlackLab/guide/getting-started.html#prepare-your-data" class="sidebar-link">Prepare your data</a></li><li class="sidebar-sub-header"><a href="/BlackLab/guide/getting-started.html#corpus-search-application" class="sidebar-link">Corpus search application</a></li><li class="sidebar-sub-header"><a href="/BlackLab/guide/getting-started.html#a-simple-script" class="sidebar-link">A simple script</a></li></ul></li><li><a href="/BlackLab/guide/indexing-with-blacklab.html" class="sidebar-link">Indexing with BlackLab</a></li><li><a href="/BlackLab/guide/how-to-configure-indexing.html" class="sidebar-link">Input format configuration</a></li><li><a href="/BlackLab/guide/corpus-query-language.html" class="sidebar-link">BlackLab Corpus Query Language (BCQL)</a></li><li><a href="/BlackLab/guide/faq.html" class="sidebar-link">FAQ</a></li><li><a href="/BlackLab/guide/future-plans.html" class="sidebar-link">Future plans</a></li><li><a href="/BlackLab/guide/who-uses-blacklab.html" class="sidebar-link">Who is using BlackLab?</a></li><li><a href="/BlackLab/guide/about.html" class="sidebar-link">About</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="getting-started"><a href="#getting-started" class="header-anchor">#</a> Getting Started</h1> <p>There's <a href="/BlackLab/guide/#try-it-online">several examples online</a> of what you can do with BlackLab.</p> <p>But at some point, you're going to want to run it yourself so you can experiment with your own data.</p> <p>Before you can search your data using BlackLab, you'll need to:</p> <ul><li>Install BlackLab</li> <li>Prepare your data</li> <li>Index your data</li></ul> <p>Let's go over these one by one.</p> <h2 id="install-blacklab"><a href="#install-blacklab" class="header-anchor">#</a> Install BlackLab</h2> <p>The web service, BlackLab Server, can be used from any programming language and offers a simple REST API (also called a web service).</p> <details class="custom-block details"><summary>Using BlackLab as a (JVM) library</summary> <p>BlackLab is also available in library form. It is written in Java, so it can be used from any JVM language (Java, Kotlin, Scala, etc.).</p> <p>This guide will look at BlackLab Server. If you're interested in the JVM library, see the <a href="/BlackLab/development/">Developers</a> section.</p></details> <p>You will need a JVM version of 11 or higher to use the latest BlackLab versions. Also install Apache Tomcat 9. For example, on Ubuntu:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> openjdk-11-jdk tomcat9
</code></pre></div><p>Create an empty directory where you want to store your indexed corpora. Make sure it has the permissions you require. For example:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># Create directory</span>
<span class="token function">sudo</span> <span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /data/blacklab-corpora

<span class="token comment"># Make sure you own it, so you can create corpora there</span>
<span class="token function">sudo</span> <span class="token function">chown</span> <span class="token parameter variable">-R</span> <span class="token environment constant">$USER</span><span class="token builtin class-name">:</span><span class="token variable">$GROUP</span> /data/blacklab-corpora

<span class="token comment"># Make sure it's world-readable so Tomcat can read it</span>
<span class="token function">chmod</span> <span class="token parameter variable">-R</span> a+rx /data/blacklab-corpora
</code></pre></div><p>Now create a directory <code>/etc/blacklab</code> with a file named <code>blacklab-server.yaml</code>:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># Create directory</span>
<span class="token function">sudo</span> <span class="token function">mkdir</span> /etc/blacklab

<span class="token comment"># Create empty config file and take ownership of it</span>
<span class="token function">sudo</span> <span class="token function">touch</span> /etc/blacklab/blacklab-server.yaml
<span class="token function">sudo</span> <span class="token function">chown</span> <span class="token environment constant">$USER</span><span class="token builtin class-name">:</span><span class="token variable">$GROUP</span> /etc/blacklab/blacklab-server.yaml

<span class="token comment"># Make sure Tomcat can access the directory and file</span>
<span class="token function">sudo</span> <span class="token function">chmod</span> <span class="token parameter variable">-R</span> a+rX /etc/blacklab
</code></pre></div><p>(NOTE: if you cannot create a directory under <code>/etc/</code>, see the TIP under <a href="/BlackLab/server/#configuration-file">configuration file</a> for alternatives)</p> <p>Now, edit the file <code>/etc/blacklab/blacklab-server.yaml</code> using a text editor:</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token punctuation">---</span>
<span class="token key atrule">configVersion</span><span class="token punctuation">:</span> <span class="token number">2</span>

<span class="token comment"># Where indexes can be found</span>
<span class="token comment"># (list directories whose subdirectories are indexes, or directories containing a single index)</span>
<span class="token key atrule">indexLocations</span><span class="token punctuation">:</span>
<span class="token punctuation">-</span> /data/blacklab<span class="token punctuation">-</span>corpora
</code></pre></div><p>On the <a href="https://github.com/INL/BlackLab/releases/" target="_blank" rel="noopener noreferrer">GitHub releases page<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, find the latest stable version (usually at the top) and download the attached file named <code>blacklab-server-VERSION.war</code>. Place this file in Tomcat's <code>webapps</code> directory. Tomcat should automatically recognize the file and initialize the application (usually, it will extract it to a subdirectory).</p> <p>Now go to <a href="https://localhost:8080/blacklab-server/" target="_blank" rel="noopener noreferrer">https://localhost:8080/blacklab-server/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (or substitute the hostname of the server you've installed it on if not running locally) and you should see an XML response from BlackLab.</p> <p><em>(<a href="/BlackLab/server/">learn more about BlackLab Server</a>)</em></p> <h2 id="prepare-your-data"><a href="#prepare-your-data" class="header-anchor">#</a> Prepare your data</h2> <p>In order to search your data using BlackLab, it needs to be in a supported format, and it needs to be indexed by BlackLab.</p> <h3 id="supported-formats"><a href="#supported-formats" class="header-anchor">#</a> Supported formats</h3> <p>BlackLab supports a number of input formats, but the most well-known are <a href="http://www.tei-c.org/index.xml" target="_blank" rel="noopener noreferrer">TEI<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (Text Encoding Initiative) and <a href="http://proycon.github.io/folia/" target="_blank" rel="noopener noreferrer">FoLiA<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (Format for Linguistic Annotation). These are both XML formats. If your data is not already in one of the supported formats, you need to convert it. (see the next section if you want to use a test dataset instead of your own)</p> <div class="custom-block warning"><p class="custom-block-title">PLEASE NOTE</p> <p>BlackLab needs <em>tokenized</em> data files as input. That means the word boundaries have already been determined and BlackLab can just index each word as it parses the input file.</p> <p>It is possible to configure BlackLab to perform the necessary tokenizing and tagging; see <a href="/BlackLab/development/customization/plugins.html">Convert/Tag plugins</a>.</p></div> <p>One way to convert your data is using our tool <a href="https://github.com/INL/OpenConvert" target="_blank" rel="noopener noreferrer">OpenConvert<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, which can generate TEI or FoLiA from txt, doc(x) or html files, among others. After conversion, you can tag the files using a tool such as <a href="http://ilk.uvt.nl/frog/" target="_blank" rel="noopener noreferrer">Frog<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>A <a href="http://openconvert.clarin.inl.nl/" target="_blank" rel="noopener noreferrer">web-based user interface<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for converting and tagging (Dutch) input files is available. You will need a <a href="https://user.clarin.eu/user" target="_blank" rel="noopener noreferrer">CLARIN.eu account<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (<a href="https://www.clarin.eu/content/clarin-identity-provider" target="_blank" rel="noopener noreferrer">more information<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>).</p> <h3 id="testing-with-the-brown-corpus"><a href="#testing-with-the-brown-corpus" class="header-anchor">#</a> Testing with the Brown corpus</h3> <p>If you can't use your own data yet, we've provided a <a href="https://github.com/INL/BlackLab/wiki/brownCorpus.lemmatized.xml.zip" target="_blank" rel="noopener noreferrer">tokenized, annotated TEI version of the Brown corpus<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for you to test with.</p> <p><strong>NOTE:</strong> to index this version of the Brown corpus, use the <code>tei-p5-legacy</code> input format.</p> <div class="custom-block tip"><p class="custom-block-title">Brown corpus</p> <p>The <a href="http://en.wikipedia.org/wiki/Brown_Corpus" title="http://en.wikipedia.org/wiki/Brown_Corpus" target="_blank" rel="noopener noreferrer">Brown corpus<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is a corpus compiled in the 1960s by <a href="http://archive.org/details/BrownCorpus" target="_blank" rel="noopener noreferrer">Nelson Francis and Henry Kucera<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> at Brown University. It is small by today's standard (500 documents, 1M words). It was converted to TEI format by <a href="http://users.ox.ac.uk/~lou/" target="_blank" rel="noopener noreferrer">Lou Burnard<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. It is available from archive.org under the <a href="http://creativecommons.org/licenses/by-nc/3.0/" target="_blank" rel="noopener noreferrer">CC-BY-NC 3.0<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> license, but we've created our own version which includes lemmata.<br>(Please note that we didn't check the lemmatization, and it probably contains errors - useful for testing purposes only!)</p></div> <h3 id="index-the-data"><a href="#index-the-data" class="header-anchor">#</a> Index the data</h3> <p>There's a commandline tool to create a corpus called <code>IndexTool</code>. To use it, also download the blacklab-core-VERSION.jar from the <a href="https://github.com/INL/BlackLab/releases/" target="_blank" rel="noopener noreferrer">GitHub releases page<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and extract it somewhere convenient.</p> <p>From this directory, run the IndexTool without parameters for help information:</p> <div class="language- extra-class"><pre><code>java -cp &quot;blacklab-VERSION.jar:lib&quot; nl.inl.blacklab.tools.IndexTool
</code></pre></div><p>(NOTE: replace VERSION with the correct version. <code>blacklab-VERSION.jar</code> and the <code>lib</code> subdirectory containing required libraries should be located in the current directory; if not, prefix it with the correct directory)</p> <p>(if you're on Windows, replace the classpath separator colon <code>:</code> with a semicolon <code>;</code>)</p> <p>We want to create a new index, so we need to supply an index directory, input file(s) and an input format:</p> <div class="language- extra-class"><pre><code>java -cp &quot;blacklab-VERSION.jar:lib&quot; nl.inl.blacklab.tools.IndexTool create INDEX_DIR INPUT_FILES FORMAT
</code></pre></div><p>If you specify a directory as the <code>INPUT_FILES</code>, it will be scanned recursively. You can also specify a file glob (such as *.xml) or a single file. If you specify a .zip or .tar.gz file, BlackLab will automatically index its contents.</p> <p>For example, if you have TEI-P5 data in <code>/tmp/my-tei/</code> and want to create an index <code>/data/blacklab-corpora/my-corpus</code>, run the following command:</p> <div class="language- extra-class"><pre><code>java -cp &quot;blacklab-VERSION.jar&quot; nl.inl.blacklab.tools.IndexTool create /data/blacklab-corpora/my-corpus /tmp/my-tei/ tei-p5
</code></pre></div><p>(<strong>NOTE:</strong> for the included Brown corpus data, use the <code>tei-p5-legacy</code> input format)</p> <p>Your data is indexed and placed in a new BlackLab corpus in the <code>/data/blacklab-corpora/my-corpus</code> directory.</p> <details class="custom-block details"><summary><b>TIP:</b> Give Java enough memory</summary> <p>Please note that if you're indexing very large files, you should <a href="https://docs.oracle.com/cd/E15523_01/web.1111/e13814/jvm_tuning.htm#PERFM161" target="_blank" rel="noopener noreferrer">give java more than the default heap memory<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, using the <code>-Xmx</code> option. For really large files, and if you have the memory, you could use <code>-Xmx 6G</code>, for example.</p></details> <details class="custom-block details"><summary><b>TIP:</b> TEI variants</summary> <p>BlackLab now includes three TEI variants: <code>tei-p5</code> (TEI-P5 using the <code>pos</code> attribute), <code>tei-p5-legacy</code> (same but using the nonstandard <code>type</code> attribute for part of speech) and <code>tei-p4-legacy</code> (TEI-P4 using the <code>type</code> attribute). Make sure you pick the right variant for you, or copy one of the <code>tei-*.blf.yaml</code> files and customize it to your needs.</p></details> <p>See also:</p> <ul><li><a href="/BlackLab/guide/how-to-configure-indexing.html">Adding a new input format</a> (if your format isn't supported yet and you don't want to convert)</li> <li><a href="/BlackLab/guide/indexing-with-blacklab.html">Indexing in detail</a></li></ul> <h3 id="testing-your-index"><a href="#testing-your-index" class="header-anchor">#</a> Testing your index</h3> <h4 id="blacklab-server"><a href="#blacklab-server" class="header-anchor">#</a> BlackLab Server</h4> <p>If your corpus was created as a subdirectory of the <code>indexLocation</code> you configured above (<code>/data/blacklab-corpora</code> in the above example), BlackLab Server should pick it up automatically. You can test this by going to http://localhost:8080/blacklab-server/my-corpus. If it worked, you should see metadata about your corpus.</p> <h4 id="command-line-querytool"><a href="#command-line-querytool" class="header-anchor">#</a> Command line QueryTool</h4> <p><strong>TODO:</strong> move to <code>/development/</code></p> <p>BlackLab Core includes a very basic command-based query tool useful for testing and debugging. To query the index you just created using this tool, type:</p> <div class="language- extra-class"><pre><code>java -cp &quot;blacklab-VERSION.jar:lib&quot; nl.inl.blacklab.tools.QueryTool /data/blacklab-corpora/my-corpus
</code></pre></div><p>The query tool supports several query languages, but it will start in CorpusQL mode. A few hints:</p> <ul><li>Enclose each word between double quotes: <code>&quot;the&quot; &quot;egg&quot;</code> searches for &quot;the&quot; followed by &quot;egg&quot;</li> <li>You can user regular expressions: <code>&quot;.*g&quot;</code> searches for words ending with 'g'</li> <li>If you want to get more of a feel for what kinds of matches were found, try grouping by matched text using the command &quot;group match&quot;. Then, if you want to view one of the groups, use <code>group *n*</code>.</li></ul> <p>Type &quot;help&quot; to see a list of commands.</p> <p>See also:</p> <ul><li><a href="/BlackLab/development/query-tool.html">Using the query tool</a></li> <li><a href="/BlackLab/guide/corpus-query-language.html">BlackLab Corpus Query Language</a></li></ul> <h2 id="corpus-search-application"><a href="#corpus-search-application" class="header-anchor">#</a> Corpus search application</h2> <p>BlackLab Frontend is our corpus search application. It is easy to install; see its (<a href="https://github.com/INL/corpus-frontend/" target="_blank" rel="noopener noreferrer">GitHub page<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>) for instructions.</p> <p><strong>TODO:</strong> quick install info here.</p> <p><img src="/BlackLab/assets/img/corpus-frontend.dedecb0d.png" alt="Screenshot of corpus-frontend"></p> <h2 id="a-simple-script"><a href="#a-simple-script" class="header-anchor">#</a> A simple script</h2> <p>If you want to access your corpus using a script, that is easy as well.</p> <p>Below is an example in Python. It performs a CQL query and shows matches in KWIC (keyword in context) format:</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> urllib<span class="token punctuation">.</span>parse
<span class="token keyword">import</span> urllib<span class="token punctuation">.</span>request
<span class="token keyword">import</span> json

<span class="token keyword">def</span> <span class="token function">words</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token triple-quoted-string string">&quot;&quot;&quot; Convert word array to string. &quot;&quot;&quot;</span>
	<span class="token keyword">return</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>context<span class="token punctuation">[</span><span class="token string">'word'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">search</span><span class="token punctuation">(</span>cqlQuery<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token triple-quoted-string string">&quot;&quot;&quot; Search and show hits. &quot;&quot;&quot;</span>
	url <span class="token operator">=</span> <span class="token string">&quot;http://localhost:8080/blacklab-server/my-corpus/hits?patt=&quot;</span> <span class="token operator">+</span> \
		urllib<span class="token punctuation">.</span>parse<span class="token punctuation">.</span>quote_plus<span class="token punctuation">(</span>cqlQuery<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;&amp;outputformat=json&quot;</span>
	f <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span>url<span class="token punctuation">)</span>
	response <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	hits <span class="token operator">=</span> response<span class="token punctuation">[</span><span class="token string">'hits'</span><span class="token punctuation">]</span>
	docs <span class="token operator">=</span> response<span class="token punctuation">[</span><span class="token string">'docInfos'</span><span class="token punctuation">]</span>
	<span class="token keyword">for</span> hit <span class="token keyword">in</span> hits<span class="token punctuation">:</span>
		<span class="token comment"># Show the document title and hit information</span>
		doc <span class="token operator">=</span> docs<span class="token punctuation">[</span>hit<span class="token punctuation">[</span><span class="token string">'docPid'</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
		<span class="token keyword">print</span><span class="token punctuation">(</span>words<span class="token punctuation">(</span>hit<span class="token punctuation">[</span><span class="token string">'left'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; [&quot;</span> <span class="token operator">+</span> words<span class="token punctuation">(</span>hit<span class="token punctuation">[</span><span class="token string">'match'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;] &quot;</span> <span class="token operator">+</span> \
			words<span class="token punctuation">(</span>hit<span class="token punctuation">[</span><span class="token string">'right'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; (&quot;</span> <span class="token operator">+</span> doc<span class="token punctuation">[</span><span class="token string">'title'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># &quot;Main program&quot;</span>
search<span class="token punctuation">(</span><span class="token string">'[pos=&quot;a.*&quot;] &quot;fox&quot;'</span><span class="token punctuation">)</span>
</code></pre></div><p>More examples can be found <a href="/BlackLab/server/from-different-languages.html">here</a>.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/INL/BlackLab/edit/dev/site/docs/guide/getting-started.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">7/9/2024, 9:05:20 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/BlackLab/guide/" class="prev router-link-active">
        Introduction
      </a></span> <span class="next"><a href="/BlackLab/guide/indexing-with-blacklab.html">
        Indexing with BlackLab
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/BlackLab/assets/js/app.ff7e0bdb.js" defer></script><script src="/BlackLab/assets/js/2.3a027c82.js" defer></script><script src="/BlackLab/assets/js/8.9dedd2e9.js" defer></script>
  </body>
</html>
