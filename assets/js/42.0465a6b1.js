(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{317:function(a,t,e){"use strict";e.r(t);var s=e(13),n=Object(s.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"install-blacklab-standalone-on-macos-by-dirk-roorda"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#install-blacklab-standalone-on-macos-by-dirk-roorda"}},[a._v("#")]),a._v(" Install BlackLab standalone on MacOS (by Dirk Roorda)")]),a._v(" "),t("blockquote",[t("p",[a._v("This guide was written by Dirk Roorda for the CLARIAH project General Missives project. This is a slightly edited (top heading, other heading levels) archived version; the original can be found "),t("a",{attrs:{href:"https://github.com/CLARIAH/wp6-missieven/blob/master/blacklab/install.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("here"),t("OutboundLink")],1),a._v(". It is licensed under the MIT license.")])]),a._v(" "),t("h2",{attrs:{id:"about"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#about"}},[a._v("#")]),a._v(" About")]),a._v(" "),t("p",[a._v("This document describes how to install a working Blacklab server and client\non a standalone machine running\nmacos.")]),a._v(" "),t("h2",{attrs:{id:"toc"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#toc"}},[a._v("#")]),a._v(" TOC")]),a._v(" "),t("ul",[t("li",[a._v("Prerequisites\n"),t("ul",[t("li",[a._v("Requirements")]),a._v(" "),t("li",[a._v("Java")]),a._v(" "),t("li",[a._v("Tomcat\n"),t("ul",[t("li",[a._v("Run Tomcat")]),a._v(" "),t("li",[a._v("Manage TomCat\n"),t("ul",[t("li",[a._v("Set up managers")])])])])])])]),a._v(" "),t("li",[a._v("Blacklab\n"),t("ul",[t("li",[a._v("File organization\n"),t("ul",[t("li",[a._v("Explanation")])])]),a._v(" "),t("li",[a._v("Server\n"),t("ul",[t("li",[a._v("Configure")]),a._v(" "),t("li",[a._v("Example corpus")]),a._v(" "),t("li",[a._v("Deploy within TomCat")]),a._v(" "),t("li",[a._v("Test the query tool")])])]),a._v(" "),t("li",[a._v("Client")])])])]),a._v(" "),t("h2",{attrs:{id:"prerequisites"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites"}},[a._v("#")]),a._v(" Prerequisites")]),a._v(" "),t("h3",{attrs:{id:"requirements"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#requirements"}},[a._v("#")]),a._v(" Requirements:")]),a._v(" "),t("ul",[t("li",[a._v("macos 10.15.7 or higher (Catalina), earlier probably works as good")]),a._v(" "),t("li",[a._v("Commandline tools installed (part of XCode)\n"),t("code",[a._v("xcode-select --install")])]),a._v(" "),t("li",[t("a",{attrs:{href:"https://brew.sh",target:"_blank",rel:"noopener noreferrer"}},[a._v("HomeBrew"),t("OutboundLink")],1),a._v(" (a macos package manager)")])]),a._v(" "),t("h3",{attrs:{id:"java"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#java"}},[a._v("#")]),a._v(" JAVA")]),a._v(" "),t("p",[a._v("We use Homebrew to install a Java Development Kit (JDK), from an open source,\nusing a mechanism of HomeBrew that is optimized for large binaries.")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("brew update\nbrew tap homebrew/cask\nbrew cask install adoptopenjdk\njava -version\n")])])]),t("p",[a._v("Results in:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('openjdk version "15" 2020-09-15\nOpenJDK Runtime Environment AdoptOpenJDK (build 15+36)\nOpenJDK 64-Bit Server VM AdoptOpenJDK (build 15+36, mixed mode, sharing)\n')])])]),t("h3",{attrs:{id:"tomcat"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tomcat"}},[a._v("#")]),a._v(" TOMCAT")]),a._v(" "),t("p",[a._v("We install both TomCat and its native library, in order to get access to SSL.")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("brew install tomcat\nbrew install tomcat-native\n")])])]),t("p",[a._v("We get a notification:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("In order for tomcat's APR lifecycle listener to find this library, you'll\nneed to add it to java.library.path. This can be done by adding this line\nto $CATALINA_HOME/bin/setenv.sh\n\n  CATALINA_OPTS=\"$CATALINA_OPTS -Djava.library.path=/usr/local/opt/tomcat-native/lib\"\n\nIf $CATALINA_HOME/bin/setenv.sh doesn't exist, create it and make it executable.\n")])])]),t("p",[t("strong",[a._v("N.B")]),a._v(" This "),t("code",[a._v("CATALINA")]),a._v(" is a code name for TomCat and has nothing to do with the current\nmacos version 10.15, also named "),t("code",[a._v("Catalina")]),a._v(".")]),a._v(" "),t("p",[a._v("OK, it appears that")]),a._v(" "),t("p",[t("code",[a._v("CATALINA_HOME")]),a._v(" is "),t("code",[a._v("/usr/local/Cellar/tomcat/9.0.40/libexec")]),a._v("\nalthough there is no CATALINA_HOME visible to the shell.\nYou can either set such a variable and use it in the ocmmands below, or spell\nthe value out.")]),a._v(" "),t("p",[a._v("It seems that it is not needed to set this variable for TomCat to work.")]),a._v(" "),t("p",[a._v("Depending on whether you have chosen to set "),t("code",[a._v("CATALINA_HOME")]),a._v(" in your shell\nsay either")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("vim $CATALINA_HOME/bin/setenv.sh\n")])])]),t("p",[a._v("or")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("vim /usr/local/Cellar/tomcat/9.0.40/libexec/bin/setenv.sh\n")])])]),t("p",[a._v("and add the line")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('CATALINA_OPTS="$CATALINA_OPTS -Djava.library.path=/usr/local/opt/tomcat-native/lib"\n')])])]),t("p",[a._v("Then")]),a._v(" "),t("p",[a._v("either")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("chmod ugo+x $CATALINA_HOME/bin/setenv.sh\n")])])]),t("p",[a._v("or")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("chmod ugo+x /usr/local/Cellar/tomcat/9.0.40/libexec/bin/setenv.sh\n")])])]),t("h4",{attrs:{id:"run-tomcat"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#run-tomcat"}},[a._v("#")]),a._v(" Run TOMCAT")]),a._v(" "),t("p",[a._v("There are several ways to run TomCat:")]),a._v(" "),t("p",[a._v("As a service that starts when the Mac starts:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("brew services start tomcat\n")])])]),t("p",[a._v("Manually")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("catalina run\n")])])]),t("p",[a._v("and stop it by "),t("code",[a._v("Ctrl-C")]),a._v(".")]),a._v(" "),t("p",[a._v("As a background process:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("catalina start\n")])])]),t("p",[a._v("and stop it with")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("catalina stop\n")])])]),t("p",[a._v("See also")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("catalina -h\n")])])]),t("h4",{attrs:{id:"manage-tomcat"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#manage-tomcat"}},[a._v("#")]),a._v(" Manage TOMCAT")]),a._v(" "),t("p",[a._v("In the browser, navigate to")]),a._v(" "),t("p",[a._v("http://localhost:8080")]),a._v(" "),t("p",[a._v("You should see a page that says that you have successfully installed TomCat.")]),a._v(" "),t("h5",{attrs:{id:"set-up-managers"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#set-up-managers"}},[a._v("#")]),a._v(" Set up managers")]),a._v(" "),t("p",[a._v("See the users in")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("cd /usr/local/Cellar/tomcat/9.0.40/libexec \nvim conf/tomcat-users.xml\n")])])]),t("p",[a._v("and add the lines")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('<role rolename="manager-gui"/>\n<user username="dirk" password="dirk" roles="manager-gui"/> \n')])])]),t("p",[a._v("where you can replace "),t("code",[a._v("dirk")]),a._v(" and "),t("code",[a._v("dirk")]),a._v(" by whatever you like.")]),a._v(" "),t("h2",{attrs:{id:"blacklab"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#blacklab"}},[a._v("#")]),a._v(" Blacklab")]),a._v(" "),t("p",[a._v("To see what Blacklab is, see\n"),t("a",{attrs:{href:"http://inl.github.io/BlackLab/index.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("blacklab intro"),t("OutboundLink")],1),a._v(".")]),a._v(" "),t("p",[a._v("A working blacklab installation consists of a server, a client, and corpus data.")]),a._v(" "),t("h3",{attrs:{id:"file-organization"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#file-organization"}},[a._v("#")]),a._v(" File organization")]),a._v(" "),t("p",[a._v("The following bit of file organization is not rigidly prescribed.\nYou can also choose another organization.\nWhatever you do, it needs to be reflected in subsequent config files and shell commands.")]),a._v(" "),t("p",[a._v("This is an organization that I find convenient at this stage:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("blacklab/\n         data/\n              incoming/\n              indexes/\n         program/\n         installation/\n")])])]),t("p",[a._v("I have put it all under "),t("code",[a._v("~/local")]),a._v(" i.e. my home directory and then\na subdirectory "),t("code",[a._v("blacklab")]),a._v(".")]),a._v(" "),t("h4",{attrs:{id:"contents-and-downloads"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#contents-and-downloads"}},[a._v("#")]),a._v(" Contents and downloads")]),a._v(" "),t("p",[a._v("The "),t("code",[a._v("data")]),a._v(" directory will receive corpus data.")]),a._v(" "),t("p",[a._v("The "),t("code",[a._v("incoming")]),a._v(" subdir receives downloaded data, the "),t("code",[a._v("indexes")]),a._v(" subdir is the destination\nof the blacklab indexer.")]),a._v(" "),t("p",[a._v("The "),t("code",[a._v("installation")]),a._v(" directory receives the downloaded "),t("code",[a._v("blacklab-server-2.1.0")]),a._v(" war file.")]),a._v(" "),t("p",[a._v("This file is attached to a release of the Blacklab repo.\nThe releases are listed\n"),t("a",{attrs:{href:"https://github.com/INL/BlackLab/releases/",target:"_blank",rel:"noopener noreferrer"}},[a._v("here"),t("OutboundLink")],1),a._v("\nand we pick release 2.1.0.\nYou see a file\n"),t("a",{attrs:{href:"https://github.com/INL/BlackLab/releases/download/v2.1.0/blacklab-server-2.1.0.war",target:"_blank",rel:"noopener noreferrer"}},[a._v("blacklab-server-2.1.0.war"),t("OutboundLink")],1),a._v("\nthere, download it and place it in the "),t("code",[a._v("installation")]),a._v(" directory.")]),a._v(" "),t("p",[a._v("We will unzip it in place, and copy its "),t("code",[a._v("WEB-INF/lib")]),a._v(" directory to the "),t("code",[a._v("program")]),a._v(" directory.")]),a._v(" "),t("p",[a._v("Over there, we move the "),t("code",[a._v("blacklab-2.1.0.jar")]),a._v(" file one level up, so that it is directly beneath\nthe "),t("code",[a._v("program")]),a._v(" dir.")]),a._v(" "),t("p",[a._v("When we "),t("code",[a._v("cd")]),a._v(" to the program dir, we can easily run the java program in the blacklab jar file,\nsupported by the libraries in the jar files under the "),t("code",[a._v("lib")]),a._v(" subdirectory.")]),a._v(" "),t("p",[a._v("We'll need the blacklab program soon: for indexing the first corpus.")]),a._v(" "),t("p",[a._v("We also need to download a front-end, a.k.a. client.\nThis is in the\n"),t("a",{attrs:{href:"https://github.com/INL/corpus-frontend",target:"_blank",rel:"noopener noreferrer"}},[a._v("INL/corpus-frontend"),t("OutboundLink")],1),a._v(" repo.\nAgain, move to the\n"),t("a",{attrs:{href:"https://github.com/INL/corpus-frontend/releases",target:"_blank",rel:"noopener noreferrer"}},[a._v("releases"),t("OutboundLink")],1),a._v("\npage and there you find release 2.1.0.\nYou see a file\n"),t("a",{attrs:{href:"https://github.com/INL/corpus-frontend/releases/download/v2.1.0/corpus-frontend-2.1.0.war",target:"_blank",rel:"noopener noreferrer"}},[a._v("corpus-frontend-2.1.0.war"),t("OutboundLink")],1),a._v("\nthere, download it and place it in the "),t("code",[a._v("installation")]),a._v(" directory.")]),a._v(" "),t("h3",{attrs:{id:"server"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#server"}},[a._v("#")]),a._v(" Server")]),a._v(" "),t("p",[a._v("See\n"),t("RouterLink",{attrs:{to:"/server/"}},[a._v("blacklab-server overview")])],1),a._v(" "),t("h4",{attrs:{id:"configure"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#configure"}},[a._v("#")]),a._v(" Configure")]),a._v(" "),t("p",[a._v("Set an environment variable to point to the blacklab server config, do\nthis in your "),t("code",[a._v(".zshrc")]),a._v(" file.")]),a._v(" "),t("p",[a._v("Note that "),t("code",[a._v("~")]),a._v(" will not work properly, so spell out the complete path\nfrom the root of your system to the directory where your blacklab config dir is:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('BLACKLAB_CONFIG_DIR="/Users/dirk/local/blacklab"\nexport BLACKLAB_CONFIG_DIR\n')])])]),t("p",[a._v("Then edit/create a server config file:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("cd ~/local/blacklab\nvim blacklab-server.yaml\n")])])]),t("p",[a._v("and add the contents")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("---\nconfigVersion: 2\n\n# Where indexes can be found\n# (list directories whose subdirectories are indexes, or directories containing a single index)\nindexLocations:\n- /Users/dirk/local/blacklab/data/indexes\n")])])]),t("p",[t("strong",[a._v("N.B.")]),a._v("\nNote that in this config file you can not use the "),t("code",[a._v("~")]),a._v(" abbreviation.")]),a._v(" "),t("p",[a._v("Deploying the blacklab war now leads to a friendly message from blacklab that there are no indexes.\nSo, before we deploy, we create the indexes for an example corpus and put it in place.")]),a._v(" "),t("h4",{attrs:{id:"example-data"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#example-data"}},[a._v("#")]),a._v(" Example data")]),a._v(" "),t("p",[a._v("We download the\n"),t("a",{attrs:{href:"https://github.com/INL/BlackLab/wiki/brownCorpus.lemmatized.xml.zip",target:"_blank",rel:"noopener noreferrer"}},[a._v("Brown corpus"),t("OutboundLink")],1),a._v(",\na single XML file of 66 MB when unzipped, to be put in "),t("code",[a._v("data/incoming")]),a._v(".")]),a._v(" "),t("p",[a._v("Run the blacklab index tool by running the blacklab jar:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("cd ~/local/blacklab/program/\n")])])]),t("p",[a._v("Then run the jar:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('java -cp "blacklab-2.1.0.jar" nl.inl.blacklab.tools.IndexTool create ~/local/blacklab/data/indexes/brown ~/local/blacklab/data/incoming/brownCorpus.lemmatized.xml tei\n')])])]),t("h4",{attrs:{id:"deploy-within-tomcat"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#deploy-within-tomcat"}},[a._v("#")]),a._v(" Deploy within Tomcat")]),a._v(" "),t("p",[a._v("In the terminal, give the command")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("catalina start\n")])])]),t("p",[a._v("Then, in the browser navigate (again) to")]),a._v(" "),t("p",[a._v("http://localhost:8080")]),a._v(" "),t("p",[a._v("Click the manage app and login with "),t("code",[a._v("dirk")]),a._v(", "),t("code",[a._v("dirk")]),a._v(" (which is what have have put in the\nTomCat config file for users, above).")]),a._v(" "),t("p",[a._v("In the list of applications, click the blacklab-server-2.1.0 entry.")]),a._v(" "),t("p",[a._v("You should see something like:")]),a._v(" "),t("div",{staticClass:"language-xml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("blacklabResponse")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("blacklabBuildTime")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("2020-06-22 16:01:41"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("blacklabBuildTime")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("blacklabVersion")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("2.1.0"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("blacklabVersion")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("indices")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("index")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("name")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("brown"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("displayName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("brown"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("displayName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("/>")])]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("status")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("available"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("status")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("documentFormat")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("tei"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("documentFormat")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("timeModified")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("2020-11-24 11:47:37"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("timeModified")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("tokenCount")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("1008320"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("tokenCount")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("index")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("indices")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("user")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("loggedIn")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("false"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("loggedIn")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("canCreateIndex")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("false"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("canCreateIndex")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("user")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("blacklabResponse")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])])]),t("p",[a._v("which means that all is well and that the Brown corpus indexes have been found.")]),a._v(" "),t("h4",{attrs:{id:"test-the-query-tool"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#test-the-query-tool"}},[a._v("#")]),a._v(" Test the query tool")]),a._v(" "),t("p",[a._v("Still in the "),t("code",[a._v("program")]),a._v(" directory you can run the query tool:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("java -cp blacklab-2.1.0.jar nl.inl.blacklab.tools.QueryTool ~/local/blacklab/data/indexes/brown\n")])])]),t("p",[a._v("You get a prompt "),t("code",[a._v("CorpusQL>")]),a._v(".\nEnter the query "),t("code",[a._v('"egg"')]),a._v(" followed by a newline.")]),a._v(" "),t("p",[a._v("You get results.\nExit by giving the command "),t("code",[a._v("exit")]),a._v(".")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('CorpusQL> "egg"\n   1. [0106]               is thick , much like an [egg] plant?s skin , so that poison\n   2. [0115]                it with beaten yolk of [egg]\n   3. [0144]        kitchen for coffee grounds and [egg] shells . All these materials and\n   4. [0303]            On this , she builds an `` [egg] compartment ?? or `` egg cell ?? which\n   5. [0303] builds an `` egg compartment ?? or `` [egg] cell ?? which is filled with\n   6. [0303]             the beebread loaf and the [egg] compartment is closed . The queen\n   7. [0303]                  retires to a life of [egg] laying . The first worker bees\n   8. [0303]      in unobtrusively , to deposit an [egg] on a completed loaf of\n   9. [0303]        before the bumblebees seal the [egg] compartment . The hosts never seem\n  10. [0303]             which is provided with an [egg] plus a store of beebread\n  11. [0332]              with the chicken and the [egg] . Which came first ? ? Is it\n  12. [0400]    constructed a highboard around the [egg] case which he had placed\n12 hits in 6 documents\n105 ms elapsed\nCorpusQL> exit\ndirk:~/local/blacklab/program > \n')])])]),t("h3",{attrs:{id:"client"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#client"}},[a._v("#")]),a._v(" Client")]),a._v(" "),t("p",[a._v("The main front-end for Blacklab is in a separate\n"),t("a",{attrs:{href:"https://github.com/INL/corpus-frontend/",target:"_blank",rel:"noopener noreferrer"}},[a._v("GitHub repo"),t("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=n.exports}}]);